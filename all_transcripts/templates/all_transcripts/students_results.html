{% extends 'home/base.html' %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>{% block title %} Students Results {% endblock %}</title>
    {% load static %}
    <!-- Bootstrap -->
    <link href="{% static 'home/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'home/base_style.css' %}" rel="stylesheet">
    
  </head>
  <body style="overflow-x: hidden;">

    {% block content %}

    <div class="container table-responsive" style="margin-top: 25px;">

        <div class="button-group">
            <a href="{% url 'all_transcripts:score_list' user.id %}" class="btn btn-primary"><span class="glyphicon glyphicon-print"></span> Print Results List </a>
            <a href="{% url 'all_transcripts:in_bulk' user.id %}" class="btn btn-info"><span class="glyphicon glyphicon-print"></span> Print Transcript-in-Bulk </a>
        </div>

        <table class="table table-striped table-hover " style="margin-top: 10px;">
            <thead style="background-color: rgb(235, 235, 235);">
                <tr>
                    <th>Name</th>
                    {% for data in user.subject_set.all %}

                    <th>{{data.subject_code}}</th>
                    
                    {% endfor %}
                    <th>Total</th>
                    <th>Action</th>
                </tr>
            </thead>

            <tbody>

                {% for data in user.class.student_set.all %}
                <tr>
                    <td>{{data.first_name}} {{data.last_name}} {{data.middle_name}}</td>


                    {% for std in data.grade_set.all %}

                        {% if std.grade_set.subject.id %}
                        <td>0</td>
                        {% else %}
                        <td>{{std.total_score}}</td>
                        {% endif %}

                        
                    {% endfor %}
                    <td>Total</td>
                    <td><a href="{% url 'all_transcripts:student_transcript' data.id %}"><span class="glyphicon glyphicon-print"></span> Get Transcript</a></td>
                
                </tr>
                {% endfor %}
            </tbody>
        </table>

    </div>
    {% endblock %}
    

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="{% static 'home/jquery.min.js' %}"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="{% static 'home/bootstrap/js/bootstrap.min.js' %}"></script>
  </body>
</html>